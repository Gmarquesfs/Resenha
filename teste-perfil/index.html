<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliação de Perfil Comportamental</title>
    <!-- CSS Externo recomendado -->
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <style>
        /* Estilos existentes permanecem inalterados */
        /* Inclua todos os estilos originais aqui */
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <div class="logo-placeholder">
                <div class="logo-icon">&#128247;</div>
                <span>Logo da Empresa</span>
            </div>
        </div>

        <!-- Página de apresentação -->
        <div class="presentation" id="presentation">
            <h1>Avaliação de Perfil Comportamental</h1>
            <p>Descubra seu perfil comportamental predominante...</p>

            <!-- Perfis (águia, gato, lobo, tubarão) -->
            <div class="profiles-container">
                <!-- Cards permanecem inalterados -->
            </div>

            <p>Este teste contém 25 questões...</p>

            <button class="start-button" onclick="startAssessment()">Iniciar Avaliação</button>
        </div>

        <!-- Formulário permanece o mesmo -->
        <div class="assessment-form" id="assessment-form">
            <h2>Avaliação de Perfil Comportamental por Ned Herman</h2>
            <form id="profile-form">
                <!-- Páginas das perguntas permanecem inalteradas -->
                <!-- Lembre-se de manter a estrutura original aqui -->
                
                <div class="pagination-controls">
                    <button type="button" class="pagination-button" id="prev-button" onclick="prevPage()" disabled>Anterior</button>
                    <div class="pagination-info">Página <span id="current-page">1</span> de 5</div>
                    <button type="button" class="pagination-button" id="next-button" onclick="nextPage()">Continuar</button>
                </div>
            </form>
        </div>

        <!-- Resultados permanecem os mesmos -->
        <div class="results" id="results">
            <h2>Seu Perfil Comportamental</h2>

            <div class="chart-container">
                <!-- Barras de resultado permanecem inalteradas -->
            </div>

            <div class="dominant-profile" id="dominant-profile">
                <h3>Seu perfil predominante: <span id="dominant-name">-</span></h3>
                <p id="dominant-description"></p>
            </div>

            <button class="restart-button" onclick="restartAssessment()">Refazer Avaliação</button>
            <button class="restart-button" onclick="window.location.reload()">Voltar ao Início</button>
        </div>
    </div>

    <script>
        // Página atual
        let currentPage = 1;
        const totalPages = 5;

        function startAssessment() {
            document.getElementById('presentation').style.display = 'none';
            document.getElementById('assessment-form').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function nextPage() {
            const currentPageElement = document.getElementById(`page-${currentPage}`);
            const questions = currentPageElement.querySelectorAll('.question');
            let allAnswered = true;

            questions.forEach((question, index) => {
                const questionNumber = (currentPage - 1) * 5 + index + 1;
                const answered = document.querySelector(`input[name="q${questionNumber}"]:checked`);

                if (!answered) {
                    allAnswered = false;
                    question.style.border = '2px solid #e53e3e';
                    question.style.padding = '10px';
                    question.style.borderRadius = '8px';
                } else {
                    question.style.border = 'none';
                    question.style.padding = '0';
                }
            });

            if (!allAnswered) {
                alert('Por favor, responda todas as questões antes de continuar.');
                return;
            }

            if (currentPage === totalPages) {
                calculateResults();
                return;
            }

            document.getElementById(`page-${currentPage}`).classList.remove('active');
            currentPage++;
            document.getElementById(`page-${currentPage}`).classList.add('active');
            document.getElementById('current-page').textContent = currentPage;
            document.getElementById('prev-button').disabled = false;

            if (currentPage === totalPages) {
                document.getElementById('next-button').textContent = 'Ver Resultados';
            }
            window.scrollTo(0, 0);
        }

        function prevPage() {
            document.getElementById(`page-${currentPage}`).classList.remove('active');
            currentPage--;
            document.getElementById(`page-${currentPage}`).classList.add('active');
            document.getElementById('current-page').textContent = currentPage;
            document.getElementById('prev-button').disabled = (currentPage === 1);
            document.getElementById('next-button').textContent = 'Continuar';
            window.scrollTo(0, 0);
        }

        function calculateResults() {
            let counts = { I:0, C:0, O:0, A:0 };

            for (let i = 1; i <= 25; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected) counts[selected.value]++;
            }

            const total = counts.I + counts.C + counts.O + counts.A;

            if (total === 0) {
                alert('Erro inesperado, por favor refaça o teste.');
                restartAssessment();
                return;
            }

            const percents = {
                I: Math.round((counts.I / total) * 100),
                C: Math.round((counts.C / total) * 100),
                O: Math.round((counts.O / total) * 100),
                A: Math.round((counts.A / total) * 100),
            };

            document.getElementById('aguia-bar').style.height = `${percents.I*2}px`;
            document.getElementById('aguia-value').textContent = `${percents.I}%`;

            document.getElementById('gato-bar').style.height = `${percents.C*2}px`;
            document.getElementById('gato-value').textContent = `${percents.C}%`;

            document.getElementById('lobo-bar').style.height = `${percents.O*2}px`;
            document.getElementById('lobo-value').textContent = `${percents.O}%`;

            document.getElementById('tubarao-bar').style.height = `${percents.A*2}px`;
            document.getElementById('tubarao-value').textContent = `${percents.A}%`;

            const profiles = [
                {name:'Águia', percent:percents.I, description:'Criativo e inovador...'},
                {name:'Gato', percent:percents.C, description:'Harmonioso e comunicativo...'},
                {name:'Lobo', percent:percents.O, description:'Organizado e detalhista...'},
                {name:'Tubarão', percent:percents.A, description:'Dinâmico e focado...'}
            ];

            profiles.sort((a,b)=>b.percent-a.percent);

            document.getElementById('dominant-name').textContent = profiles[0].name;
            document.getElementById('dominant-description').textContent = profiles[0].description;

            document.getElementById('assessment-form').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function restartAssessment() {
            document.getElementById('profile-form').reset();
            location.reload();
        }

        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', ()=> option.querySelector('input').checked=true);
        });
    </script>
</body>
</html>
